#!/usr/test/bin/wpl -f

SCENE main {
	MYSQL mysql;
	mysql->connect("localhost", "root", "25.9X25.2");

	if (!mysql->select_db("languages")) {
		echo "Could not select DB: " . mysql->error() . "\n";
		return 1;
	}

	int id=3;

	SQL sql {
		SELECT * FROM variables
	}

	MYSQL_STATEMENT stmt = mysql->new_statement();

	if (!stmt->prepare(sql)) {
		echo "Could not prepare statement: " . mysql->error() . "\n";
		return 1;
	}

	if (!stmt->execute()) {
		echo "Could not execute statement: " . mysql->error() . "\n";
		return 1;
	}

	MYSQL_ROW row = stmt->get_row_iterator();

	while (row++) {
		TEXT {
ID: {$row[1]} - {$row["text"]}
		}
	}

	echo "Everything OK\n";

	return 0;
}
